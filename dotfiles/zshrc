## options
# allow function calls in prompt
setopt prompt_subst
setopt interactive_comments
setopt nomatch
unsetopt auto_cd
#setopt no_nomatch null_glob
#setopt extended_glob
bindkey -e
bindkey "[H" beginning-of-line
bindkey "[F" end-of-line

# case insensitive tab completion
zstyle ':completion:*' matcher-list 'm:{a-zA-Z}={A-Za-z}'

# git prompt stuff
autoload -Uz vcs_info
zstyle ':vcs_info:*' enable git svn
zstyle ':vcs_info:*' check-for-changes true
zstyle ':vcs_info:*' formats "(%b%u%c)"
zstyle ':vcs_info:git:*' stagedstr '+'
zstyle ':vcs_info:git:*' unstagedstr '!'
zstyle ':vcs_info:git:*' actionformats "(%b|%a%m%F{yellow}%u%c%f)"
zstyle ':vcs_info:git:*' patch-format ' %n/%a'

precmd() {
    vcs_info
}

## set PS1
if [[ -n "$SSH_CLIENT" || -n "$SSH_TTY" || $IS_SSH = 1 ]]; then
    IS_SSH=1
    ps_c='%F{yellow}'
else
    IS_SSH=0
    ps_c='%F{white}'
fi
PS1=${ps_c}'%n@%f:%1~%(!.%F{red}.%f)${vcs_info_msg_0_}%#%E '

## history
# Lines configured by zsh-newuser-install
setopt hist_ignore_dups hist_ignore_space append_history share_history
HISTFILE=~/.histfile
HISTSIZE=1000
SAVEHIST=1000

## completion stuff
zstyle :compinstall filename '$HOME/.zshrc'
autoload -Uz compinit
compinit

## other stuff
autoload -U zmv
